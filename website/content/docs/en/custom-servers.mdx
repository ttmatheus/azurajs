---
title: Custom Servers
description: Use AzuraJS with Bun, Deno, Cloudflare Workers, and more
icon: Server
---

# Custom Servers üåê

AzuraJS can be used with **any server** that supports the Web Fetch API, just like Hono! This gives you flexibility to deploy on Bun, Deno, Cloudflare Workers, Vercel Edge Functions, and more.

## Using with Bun üçû

Bun provides a fast native HTTP server. Use AzuraJS with `Bun.serve`:

### TypeScript

```typescript title="bun-server.ts"
import { AzuraClient } from "azurajs";

const app = new AzuraClient();

app.get("/", ({ req, res }) => {
  res.json({ message: "Hello from AzuraJS on Bun!" });
});

app.get("/user/:id", ({ req, res }) => {
  res.json({ 
    userId: req.params.id,
    runtime: "Bun" 
  });
});

app.post("/data", ({ req, res }) => {
  res.json({ 
    received: req.body,
    timestamp: Date.now() 
  });
});

// Use with Bun's native server
const server = Bun.serve({
  port: process.env.PORT || 3000,
  fetch: app.fetch.bind(app),
});

console.log(`üöÄ Server running on http://localhost:${server.port}`);
```

### JavaScript

```javascript title="bun-server.js"
const { AzuraClient } = require("azurajs");

const app = new AzuraClient();

app.get("/", ({ req, res }) => {
  res.json({ message: "Hello from AzuraJS on Bun!" });
});

app.get("/user/:id", ({ req, res }) => {
  res.json({ 
    userId: req.params.id,
    runtime: "Bun" 
  });
});

app.post("/data", ({ req, res }) => {
  res.json({ 
    received: req.body,
    timestamp: Date.now() 
  });
});

// Use with Bun's native server
const server = Bun.serve({
  port: process.env.PORT || 3000,
  fetch: app.fetch.bind(app),
});

console.log(`üöÄ Server running on http://localhost:${server.port}`);
```

Run it:

```bash
bun run bun-server.ts  # or .js
```

### Why Use Bun?

- ‚ö° **3x faster** than Node.js
- üöÄ **Native TypeScript** support
- üì¶ **Built-in bundler** and test runner
- üî• **Reload** out of the box

## Using with Deno ü¶ï

Deno is a secure runtime for JavaScript and TypeScript. Use AzuraJS with `Deno.serve`:

### TypeScript

```typescript title="deno-server.ts"
import { AzuraClient } from "azurajs";

const app = new AzuraClient();

app.get("/", ({ req, res }) => {
  res.json({ message: "Hello from AzuraJS on Deno!" });
});

app.get("/api/:name", ({ req, res }) => {
  res.json({ 
    greeting: `Hello ${req.params.name}!`,
    runtime: "Deno" 
  });
});

// Use with Deno.serve
Deno.serve({ port: 3000 }, app.fetch.bind(app));

console.log("ü¶ï Server running on http://localhost:3000");
```

### JavaScript

```javascript title="deno-server.js"
const { AzuraClient } = require("azurajs");

const app = new AzuraClient();

app.get("/", ({ req, res }) => {
  res.json({ message: "Hello from AzuraJS on Deno!" });
});

app.get("/api/:name", ({ req, res }) => {
  res.json({ 
    greeting: `Hello ${req.params.name}!`,
    runtime: "Deno" 
  });
});

// Use with Deno.serve
Deno.serve({ port: 3000 }, app.fetch.bind(app));

console.log("ü¶ï Server running on http://localhost:3000");
```

Run it:

```bash
deno run --allow-net --allow-read deno-server.ts  # or .js
```

### Why Use Deno?

- üîí **Secure by default** - Explicit permissions required
- üì¶ **No package.json** - Direct URL imports
- üåê **Web standards** - Compatible APIs
- ‚ö° **Fast startup** - Optimized runtime

## Using with Cloudflare Workers ‚òÅÔ∏è

Deploy globally on Cloudflare's edge network:

### TypeScript

```typescript title="worker.ts"
import { AzuraClient } from "azurajs";

const app = new AzuraClient();

app.get("/", ({ req, res }) => {
  res.json({ 
    message: "Hello from the Edge!",
    location: "Cloudflare Workers" 
  });
});

app.get("/api/:id", ({ req, res }) => {
  res.json({ 
    id: req.params.id,
    deployed: "globally" 
  });
});

// Export for Cloudflare Workers
export default {
  fetch: app.fetch.bind(app),
};
```

### JavaScript

```javascript title="worker.js"
const { AzuraClient } = require("azurajs");

const app = new AzuraClient();

app.get("/", ({ req, res }) => {
  res.json({ 
    message: "Hello from the Edge!",
    location: "Cloudflare Workers" 
  });
});

app.get("/api/:id", ({ req, res }) => {
  res.json({ 
    id: req.params.id,
    deployed: "globally" 
  });
});

// Export for Cloudflare Workers
module.exports = {
  fetch: app.fetch.bind(app),
};
```

### Why Use Cloudflare Workers?

- üåç **Global deployment** - 200+ edge locations
- ‚ö° **0ms cold starts** - Instant responses
- üí∞ **Free tier** - 100k requests/day
- üîê **Built-in security** - DDoS protection

## Using with Node.js (Default) üü¢

AzuraJS includes a built-in Node.js HTTP server:

### TypeScript

```typescript title="node-server.ts"
import { AzuraClient } from "azurajs";
import { applyDecorators } from "azurajs/decorators";
import { UserController } from "./controllers/UserController";

const app = new AzuraClient();

// Simple route
app.get("/", ({ req, res }) => {
  res.json({ message: "Hello from Node.js!" });
});

// Or use controllers
applyDecorators(app, [UserController]);

// Built-in Node.js HTTP server
await app.listen(3000);
```

### JavaScript

```javascript title="node-server.js"
const { AzuraClient, applyDecorators } = require("azurajs");
const { UserController } = require("./controllers/UserController");

const app = new AzuraClient();

// Simple route
app.get("/", ({ req, res }) => {
  res.json({ message: "Hello from Node.js!" });
});

// Or use controllers
applyDecorators(app, [UserController]);

// Built-in Node.js HTTP server
app.listen(3000);
```

Run it:

```bash
node --import tsx node-server.ts
# or with Bun
bun run node-server.ts
```

### Why Use Node.js?

- üì¶ **Largest ecosystem** - npm packages
- üîß **Mature tooling** - Well-established
- üè¢ **Production ready** - Battle-tested
- ü§ù **Wide support** - Most hosting providers

## Vercel Edge Functions üî∫

Deploy to Vercel's edge network:

```typescript title="api/hello.ts"
import { AzuraClient } from "azurajs";

const app = new AzuraClient();

app.get("/api/hello", ({ req, res }) => {
  res.json({ message: "Hello from Vercel Edge!" });
});

export default async function handler(request: Request) {
  return app.fetch(request);
}

export const config = {
  runtime: "edge",
};
```

## Performance Comparison üìä

| Runtime | Cold Start | Throughput | Deploy |
|---------|-----------|-----------|---------|
| Bun | ~5ms | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | Local/VPS |
| Node.js | ~50ms | ‚≠ê‚≠ê‚≠ê‚≠ê | Anywhere |
| Deno | ~10ms | ‚≠ê‚≠ê‚≠ê‚≠ê | Deno Deploy |
| Cloudflare | 0ms | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | Global Edge |
| Vercel Edge | 0ms | ‚≠ê‚≠ê‚≠ê‚≠ê | Vercel |

## Complete Example üéØ

Here's a full example that works everywhere:

```typescript title="universal-app.ts"
import { AzuraClient } from "azurajs";
import { Controller, Get, Post, Body, Param, Res } from "azurajs/decorators";
import type { ResponseServer } from "azurajs/types";

@Controller("/api")
class ApiController {
  @Get("/")
  root(@Res() res: ResponseServer) {
    res.json({ 
      message: "AzuraJS Universal API",
      runtime: typeof Bun !== "undefined" ? "Bun" : 
               typeof Deno !== "undefined" ? "Deno" : "Node.js"
    });
  }

  @Get("/users/:id")
  getUser(@Param("id") id: string, @Res() res: ResponseServer) {
    res.json({ 
      id: Number(id), 
      name: `User ${id}` 
    });
  }

  @Post("/users")
  createUser(@Body() body: any, @Res() res: ResponseServer) {
    res.status(201).json({ 
      id: Date.now(), 
      ...body 
    });
  }
}

const app = new AzuraClient();
applyDecorators(app, [ApiController]);

// Choose your runtime:

// Bun
if (typeof Bun !== "undefined") {
  Bun.serve({ port: 3000, fetch: app.fetch.bind(app) });
}

// Deno
else if (typeof Deno !== "undefined") {
  Deno.serve({ port: 3000 }, app.fetch.bind(app));
}

// Node.js (default)
else {
  await app.listen(3000);
}
```

## Configuration Tips ‚öôÔ∏è

When using custom servers, you may want to disable some built-in features:

```typescript title="azura.config.ts"
import type { ConfigTypes } from "azurajs/config";

const config: ConfigTypes = {
  server: {
    port: 3000,
    cluster: false, // Disable for Bun/Deno/Edge
  },
  logging: {
    enabled: true,
    showDetails: false, // Less verbose for edge
  },
};

export default config;
```

## Best Practices ‚ú®

<Callout type="tip">
  **Use Bun for development** - Fastest reload and startup time
</Callout>

<Callout type="tip">
  **Use Edge for production** - Global deployment with 0ms cold starts
</Callout>

<Callout type="info">
  **Test on Node.js** - Ensure compatibility before deploying
</Callout>

<Callout type="warn">
  **Disable cluster mode** - Not needed when using custom servers
</Callout>

## Next Steps üìñ

<Cards>
  <Card title="Configuration" href="/docs/en/configuration" description="Configure AzuraJS for any runtime" />
  <Card title="Deployment" href="/docs/en/deployment" description="Deploy to production" />
  <Card title="Performance" href="/docs/en/performance" description="Optimize for your runtime" />
</Cards>
