---
title: Servidores Customizados
description: Use AzuraJS com Bun, Deno, Cloudflare Workers e muito mais
icon: Server
---

# Servidores Customizados üåê

AzuraJS pode ser usado com **qualquer servidor** que suporte a Web Fetch API, assim como o Hono! Isso d√° flexibilidade para deployar no Bun, Deno, Cloudflare Workers, Vercel Edge Functions e muito mais.

## Usando com Bun üçû

Bun fornece um servidor HTTP nativo super r√°pido. Use AzuraJS com `Bun.serve`:

### TypeScript

```typescript title="bun-server.ts"
import { AzuraClient } from "azurajs";

const app = new AzuraClient();

app.get("/", ({ req, res }) => {
  res.json({ message: "Ol√° do AzuraJS no Bun!" });
});

app.get("/user/:id", ({ req, res }) => {
  res.json({ 
    userId: req.params.id,
    runtime: "Bun" 
  });
});

app.post("/data", ({ req, res }) => {
  res.json({ 
    received: req.body,
    timestamp: Date.now() 
  });
});

// Use com o servidor nativo do Bun
const server = Bun.serve({
  port: process.env.PORT || 3000,
  fetch: app.fetch.bind(app),
});

console.log(`üöÄ Servidor rodando em http://localhost:${server.port}`);
```

### JavaScript

```javascript title="bun-server.js"
const { AzuraClient } = require("azurajs");

const app = new AzuraClient();

app.get("/", ({ req, res }) => {
  res.json({ message: "Ol√° do AzuraJS no Bun!" });
});

app.get("/user/:id", ({ req, res }) => {
  res.json({ 
    userId: req.params.id,
    runtime: "Bun" 
  });
});

app.post("/data", ({ req, res }) => {
  res.json({ 
    received: req.body,
    timestamp: Date.now() 
  });
});

// Use com o servidor nativo do Bun
const server = Bun.serve({
  port: process.env.PORT || 3000,
  fetch: app.fetch.bind(app),
});

console.log(`üöÄ Servidor rodando em http://localhost:${server.port}`);
```

Execute:

```bash
bun run bun-server.ts
```

### Por que usar Bun?

- ‚ö° **3x mais r√°pido** que Node.js
- üöÄ Suporte **nativo a TypeScript**
- üì¶ **Bundler integrado** e test runner
- üî• **Reload** pronto para uso

## Usando com Deno ü¶ï

Deno √© um runtime seguro para JavaScript e TypeScript. Use AzuraJS com `Deno.serve`:

### TypeScript

```typescript title="deno-server.ts"
import { AzuraClient } from "azurajs";

const app = new AzuraClient();

app.get("/", ({ req, res }) => {
  res.json({ message: "Ol√° do AzuraJS no Deno!" });
});

app.get("/api/:name", ({ req, res }) => {
  res.json({ 
    greeting: `Ol√° ${req.params.name}!`,
    runtime: "Deno" 
  });
});

// Use com Deno.serve
Deno.serve({ port: 3000 }, app.fetch.bind(app));

console.log("ü¶ï Servidor rodando em http://localhost:3000");
```

### JavaScript

```javascript title="deno-server.js"
const { AzuraClient } = require("azurajs");

const app = new AzuraClient();

app.get("/", ({ req, res }) => {
  res.json({ message: "Ol√° do AzuraJS no Deno!" });
});

app.get("/api/:name", ({ req, res }) => {
  res.json({ 
    greeting: `Ol√° ${req.params.name}!`,
    runtime: "Deno" 
  });
});

// Use com Deno.serve
Deno.serve({ port: 3000 }, app.fetch.bind(app));

console.log("ü¶ï Servidor rodando em http://localhost:3000");
```

Execute:

```bash
deno run --allow-net --allow-read deno-server.ts
```

### Por que usar Deno?

- üîí **Seguro por padr√£o** - Permiss√µes expl√≠citas necess√°rias
- üì¶ **Sem package.json** - Imports diretos por URL
- üåê **Web standards** - APIs compat√≠veis
- ‚ö° **Startup r√°pido** - Runtime otimizado

## Usando com Cloudflare Workers ‚òÅÔ∏è

Deploy globalmente na rede edge da Cloudflare:

### TypeScript

```typescript title="worker.ts"
import { AzuraClient } from "azurajs";

const app = new AzuraClient();

app.get("/", ({ req, res }) => {
  res.json({ 
    message: "Ol√° da Edge!",
    location: "Cloudflare Workers" 
  });
});

app.get("/api/:id", ({ req, res }) => {
  res.json({ 
    id: req.params.id,
    deployed: "globalmente" 
  });
});

// Export para Cloudflare Workers
export default {
  fetch: app.fetch.bind(app),
};
```

### JavaScript

```javascript title="worker.js"
const { AzuraClient } = require("azurajs");

const app = new AzuraClient();

app.get("/", ({ req, res }) => {
  res.json({ 
    message: "Ol√° da Edge!",
    location: "Cloudflare Workers" 
  });
});

app.get("/api/:id", ({ req, res }) => {
  res.json({ 
    id: req.params.id,
    deployed: "globalmente" 
  });
});

// Export para Cloudflare Workers
module.exports = {
  fetch: app.fetch.bind(app),
};
```

### Por que usar Cloudflare Workers?

- üåç **Deploy global** - 200+ localiza√ß√µes edge
- ‚ö° **0ms cold starts** - Respostas instant√¢neas
- üí∞ **Tier gr√°tis** - 100k requisi√ß√µes/dia
- üîê **Seguran√ßa integrada** - Prote√ß√£o DDoS

## Usando com Node.js (Padr√£o) üü¢

AzuraJS inclui um servidor HTTP Node.js integrado:

### TypeScript

```typescript title="node-server.ts"
import { AzuraClient } from "azurajs";
import { applyDecorators } from "azurajs/decorators";
import { UserController } from "./controllers/UserController";

const app = new AzuraClient();

// Rota simples
app.get("/", ({ req, res }) => {
  res.json({ message: "Ol√° do Node.js!" });
});

// Ou use controllers
applyDecorators(app, [UserController]);

// Servidor HTTP Node.js integrado
await app.listen(3000);
```

### JavaScript

```javascript title="node-server.js"
const { AzuraClient, applyDecorators } = require("azurajs");
const { UserController } = require("./controllers/UserController");

const app = new AzuraClient();

// Rota simples
app.get("/", ({ req, res }) => {
  res.json({ message: "Ol√° do Node.js!" });
});

// Ou use controllers
applyDecorators(app, [UserController]);

// Servidor HTTP Node.js integrado
app.listen(3000);
```

Execute:

```bash
node --import tsx node-server.ts
# ou com Bun
bun run node-server.ts
```

### Por que usar Node.js?

- üì¶ **Maior ecossistema** - Pacotes npm
- üîß **Ferramentas maduras** - Bem estabelecido
- üè¢ **Pronto para produ√ß√£o** - Testado em batalha
- ü§ù **Amplo suporte** - Maioria dos provedores de hosting

## Vercel Edge Functions üî∫

Deploy na rede edge da Vercel:

```typescript title="api/hello.ts"
import { AzuraClient } from "azurajs";

const app = new AzuraClient();

app.get("/api/hello", ({ req, res }) => {
  res.json({ message: "Ol√° da Vercel Edge!" });
});

export default async function handler(request: Request) {
  return app.fetch(request);
}

export const config = {
  runtime: "edge",
};
```

## Compara√ß√£o de Performance üìä

| Runtime | Cold Start | Throughput | Deploy |
|---------|-----------|-----------|---------|
| Bun | ~5ms | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | Local/VPS |
| Node.js | ~50ms | ‚≠ê‚≠ê‚≠ê‚≠ê | Qualquer lugar |
| Deno | ~10ms | ‚≠ê‚≠ê‚≠ê‚≠ê | Deno Deploy |
| Cloudflare | 0ms | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | Global Edge |
| Vercel Edge | 0ms | ‚≠ê‚≠ê‚≠ê‚≠ê | Vercel |

## Exemplo Completo üéØ

Aqui est√° um exemplo completo que funciona em qualquer lugar:

```typescript title="universal-app.ts"
import { AzuraClient } from "azurajs";
import { Controller, Get, Post, Body, Param, Res } from "azurajs/decorators";
import type { ResponseServer } from "azurajs/types";

@Controller("/api")
class ApiController {
  @Get("/")
  root(@Res() res: ResponseServer) {
    res.json({ 
      message: "API Universal do AzuraJS",
      runtime: typeof Bun !== "undefined" ? "Bun" : 
               typeof Deno !== "undefined" ? "Deno" : "Node.js"
    });
  }

  @Get("/users/:id")
  getUser(@Param("id") id: string, @Res() res: ResponseServer) {
    res.json({ 
      id: Number(id), 
      name: `Usu√°rio ${id}` 
    });
  }

  @Post("/users")
  createUser(@Body() body: any, @Res() res: ResponseServer) {
    res.status(201).json({ 
      id: Date.now(), 
      ...body 
    });
  }
}

const app = new AzuraClient();
applyDecorators(app, [ApiController]);

// Escolha seu runtime:

// Bun
if (typeof Bun !== "undefined") {
  Bun.serve({ port: 3000, fetch: app.fetch.bind(app) });
}

// Deno
else if (typeof Deno !== "undefined") {
  Deno.serve({ port: 3000 }, app.fetch.bind(app));
}

// Node.js (padr√£o)
else {
  await app.listen(3000);
}
```

## Dicas de Configura√ß√£o ‚öôÔ∏è

Ao usar servidores customizados, voc√™ pode desabilitar algumas funcionalidades integradas:

```typescript title="azura.config.ts"
import type { ConfigTypes } from "azurajs/config";

const config: ConfigTypes = {
  server: {
    port: 3000,
    cluster: false, // Desabilite para Bun/Deno/Edge
  },
  logging: {
    enabled: true,
    showDetails: false, // Menos verboso para edge
  },
};

export default config;
```

## Melhores Pr√°ticas ‚ú®

<Callout type="tip">
  **Use Bun para desenvolvimento** - Reload e startup mais r√°pidos
</Callout>

<Callout type="tip">
  **Use Edge para produ√ß√£o** - Deploy global com 0ms cold starts
</Callout>

<Callout type="info">
  **Teste no Node.js** - Garanta compatibilidade antes do deploy
</Callout>

<Callout type="warn">
  **Desabilite cluster mode** - N√£o √© necess√°rio com servidores customizados
</Callout>

## Pr√≥ximos Passos üìñ

<Cards>
  <Card title="Configura√ß√£o" href="/docs/pt/configuration" description="Configure AzuraJS para qualquer runtime" />
  <Card title="Performance" href="/docs/pt/performance" description="Otimize para seu runtime" />
  <Card title="Exemplos" href="/docs/pt/examples" description="Veja mais exemplos pr√°ticos" />
</Cards>
